# Io

## Лабораторная работа №3

- **Студент:** Ватан Хатиб
- **Группа:** P3319
- **ИСУ:** 291834

---

# Отчет по лабораторной работе №3

## Титульный лист
**Лабораторная работа №3**  
**Цель:** Получение навыков работы с вводом/выводом, потоковой обработкой данных, командной строкой.  

---

## Требования к разработанному ПО

### Описание алгоритма
В рамках работы реализованы следующие алгоритмы интерполяции:
1. **Линейная интерполяция (отрезками)** - вычисление промежуточных значений между двумя точками.
2. **Интерполяция Ньютона** - вычисление значений с использованием разделенных разностей.
3. **Интерполяция Лагранжа** - вычисление с помощью полиномов Лагранжа.

### Дополнительные требования
- **Конфигурация через командную строку**:
  - Указание используемых алгоритмов (можно комбинировать несколько).
  - Частота дискретизации (шаг интерполяции).
  - Формат разделителя данных.
  - Режим работы (CSV или интерактивный).
- **Потоковая обработка данных**:
  - Входные данные в текстовом формате (CSV) подаются через стандартный ввод.
  - Результаты интерполяции выводятся в стандартный вывод.
  - Программа поддерживает обработку данных в режиме скользящего окна.

### Общие требования
- Программа написана в функциональном стиле (Elixir).
- Разделение логики алгоритмов и работы с вводом/выводом.

---

## Ключевые элементы реализации

### Архитектура программы
Программа разделена на модули:
1. **CLI**:
   - Обрабатывает аргументы командной строки, включая алгоритмы, частоту и формат данных.
2. **InputParser**:
   - Считывает и парсит входные данные из стандартного ввода.
3. **Interpolator**:
   - Содержит модули для реализации алгоритмов интерполяции (Linear, Newton, Lagrange).
4. **SlidingWindow**:
   - Реализует механизм скользящего окна для динамической обработки данных.
5. **InterpolationLab**:
   - Основной модуль, управляющий процессом интерполяции.

### Логика работы
1. **Парсинг конфигурации**:
   - Аргументы передаются через командную строку.
   - Проверка на корректность конфигурации.
2. **Чтение данных**:
   - Потоковый ввод данных через стандартный ввод.
   - Сортировка входных данных по возрастанию `x`.
3. **Обработка данных**:
   - Алгоритмы выполняются на основе скользящего окна:
     - Линейная интерполяция требует 2 точки.
     - Интерполяция Ньютона и Лагранжа требуют минимум 5 точек.
4. **Вывод результатов**:
   - Результаты интерполяции печатаются в стандартный вывод.

---

## Ввод/вывод программы

### Входные данные
Формат CSV:
```
(base) watankhatib@hasobe fblab % echo -e "0,0\n1.571,1\n3.142,0\n4.712,-1\n5.2,3\n6.1,4" | mix run -e 'InterpolationLab.main(["-a", "lagrange,linear,newton", "-f", "1", "-d", ",","-m","csv"])'
Starting interpolation with configuration:
%{
  mode: "csv",
  delimiter: ",",
  algorithms: ["lagrange", "linear", "newton"],
  frequency: 1.0
}

==== lagrange Interpolation ====
X               Y
------------------------------
1.57    1.0
2.57    4.9
3.57    -2.97
4.57    -1.99
5.57    5.34
==============================

==== linear Interpolation ====
X               Y
------------------------------
5.2     3.0
==============================

==== newton Interpolation ====
X               Y
------------------------------
1.57    1.0
2.57    38.32
3.57    -20.44
4.57    -7.05
5.57    -4.01
==============================
(base) watankhatib@hasobe fblab % 
```
Формат interactive:
```
(base) watankhatib@hasobe fblab % mix run -e 'InterpolationLab.main(["-a", "lagrange,linear,newton", "-f", "1", "-d", ",","-m","interactive"])' 
Starting interpolation with configuration:
%{
  mode: "interactive",
  delimiter: ",",
  algorithms: ["lagrange", "linear", "newton"],
  frequency: 1.0
}
Ввод первых двух точек (X Y через пробел):
1 2
3 4

Результаты для алгоритма lagrange:

Недостаточно точек для интерполяции Лагранжа. Необходимо минимум 5 точек.

Результаты для алгоритма linear:

==== Линейная интерполяция ====
X               Y
------------------------------
1.0     2.0
2.0     3.0
3.0     4.0
==============================

Результаты для алгоритма newton:

Недостаточно точек для интерполяции Ньютона. Необходимо минимум 5 точек.
Введите следующую точку (X Y через пробел), или 'exit' для выхода:
> 5 5

Результаты для алгоритма lagrange:

Недостаточно точек для интерполяции Лагранжа. Необходимо минимум 5 точек.

Результаты для алгоритма linear:

==== Линейная интерполяция ====
X               Y
------------------------------
3.0     4.0
4.0     4.5
5.0     5.0
==============================

Результаты для алгоритма newton:

Недостаточно точек для интерполяции Ньютона. Необходимо минимум 5 точек.
Введите следующую точку (X Y через пробел), или 'exit' для выхода:
>  6 8

Результаты для алгоритма lagrange:

Недостаточно точек для интерполяции Лагранжа. Необходимо минимум 5 точек.

Результаты для алгоритма linear:

==== Линейная интерполяция ====
X               Y
------------------------------
5.0     5.0
6.0     8.0
==============================

Результаты для алгоритма newton:

Недостаточно точек для интерполяции Ньютона. Необходимо минимум 5 точек.
Введите следующую точку (X Y через пробел), или 'exit' для выхода:
> 7 9

Результаты для алгоритма lagrange:

==== Интерполяция Лагранжа ====
X               Y
------------------------------
1.0     2.0
2.0     5.0
3.0     4.0
4.0     3.4
5.0     5.0
6.0     8.0
7.0     9.0
==============================

Результаты для алгоритма linear:

==== Линейная интерполяция ====
X               Y
------------------------------
6.0     8.0
7.0     9.0
==============================

Результаты для алгоритма newton:

==== Интерполяция Ньютона ====
X               Y
------------------------------
1.0     2.0
2.0     19.75
3.0     4.0
4.0     -5.13
5.0     4.0
6.0     14.5
7.0     -19.0
==============================
Введите следующую точку (X Y через пробел), или 'exit' для выхода:
> exit
Выход из режима ввода.
(base) watankhatib@hasobe fblab % 
```
Выводы
Реализованы основные алгоритмы интерполяции (линейная, Ньютона, Лагранжа).
Поддерживается потоковый режим работы для больших объемов данных.
Использованы идиоматичные подходы функционального программирования в Elixir, включая Enum, Stream.
Скользящее окно эффективно управляет объемом данных, минимизируя использование памяти.
